<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rapport example</title>

  <!-- Load Rapport Web Viewer. -->
  <script src="https://cdn.rapport.cloud/rapport-web-viewer/rapport.js"></script>
</head>

<body>
  <div>
    <rapport-scene id="rapportScene" background-color="transparent" loading-image=""
      style="width: 600px; height: 600px;" />
  </div>
</body>

<script>
  const rapportScene = document.getElementById('rapportScene');

  async function startDemo(){
    const enableCookies = false;

    try {
      await rapportScene.sessionRequest({
        projectId: '0af3897d-9454-4b87-b1a1-b3ef18a709a9',
        projectToken: '7e653f4c-4b29-4929-bd07-488707b3a423',
        aiUserId: 'a32a2b2b-fd77-48d7-9795-36f84ea26965',
        lobbyZoneId: 'MPA',
        openingText: 'Start',
        enableCookies,
        sessionConnected: () => {
          /* Connected handler. The avatar is ready for the conversation. */
          rapportScene.modules.tts.sendText("hello, really nice to meet you");
        },
        sessionDisconnected: () => {
          /* Timeout handler. */
        },
      });
    } catch (error) {
      /* Handle error. */
      console.error(error);
    }
  }

  function say_text(text_to_say){
    rapportScene.modules.tts.sendText(text_to_say);
  }

  async function endDemo(){
    await rapportScene.sessionDisconnect();
  }

  startDemo()
  // {% if text_to_say %}
  say_text(text_to_say)
  // {% endif %}

</script>

</html>